#!/bin/sh -eux

pythonver=$(python -c 'import sys; print(".".join(map(str, sys.version_info[:2])))')

ub_compile \
	-Wno-dev \
	-DAPP_RENDER_SYSTEM=gl \
	-Ddocdir="/usr/share/Pacgages/doc/kodi" \
	-DENABLE_TESTING=OFF \
	-DVERBOSE=ON \
	-DPYTHON_INCLUDE_DIR=/usr/include/python$pythonver \
	-DENABLE_CCACHE=OFF \
	-DENABLE_CLANGFORMAT=OFF \
	-DENABLE_CLANGTIDY=OFF \
	-DENABLE_CPPCHECK=OFF \
	-DENABLE_INCLUDEWHATYOUUSE=OFF \
	-DENABLE_GOLD=OFF \
	-DENABLE_LLD=OFF \
	-DENABLE_MOLD=OFF \
	-DUSE_LTO=OFF \
	\
	-DENABLE_AIRTUNES=OFF \
	-DENABLE_ALSA=ON \
	-DENABLE_AVAHI=ON\
	-DENABLE_BLUETOOTH=ON\
	-DENABLE_BLURAY=ON \
	-DENABLE_CAP=ON \
	-DENABLE_CEC=OFF \
	-DENABLE_DBUS=ON \
	-DENABLE_DVDCSS=ON \
	-DENABLE_ISO9660PP=ON \
	-DENABLE_LCMS2=ON \
	-DENABLE_LIRCCLIENT=ON \
	-DENABLE_MDNS=OFF \
	-DENABLE_MICROHTTPD=ON \
	-DENABLE_NFS=ON \
	-DENABLE_OPENGL=ON \
	-DENABLE_OPTICAL=ON \
	-DENABLE_PIPEWIRE=ON \
	-DENABLE_PLIST=ON \
	-DENABLE_PULSEAUDIO=ON \
	-DENABLE_SMBCLIENT=ON \
	-DENABLE_SNDIO=OFF \
	-DENABLE_UDEV=ON \
	-DENABLE_UDFREAD=OFF \
	-DENABLE_UPNP=ON \
	-DENABLE_VAAPI=ON \
	-DENABLE_VDPAU=ON \
	-DENABLE_XSLT=ON \
	\
	-DENABLE_INTERNAL_CROSSGUID=ON \
	-DENABLE_INTERNAL_DAV1D=OFF \
	-DENABLE_INTERNAL_FFMPEG=OFF \
	-DENABLE_INTERNAL_FLATBUFFERS=ON \
	-DENABLE_INTERNAL_FMT=ON \
	-DENABLE_INTERNAL_FSTRCMP=OFF \
	-DENABLE_INTERNAL_GTEST=ON \
	-DENABLE_INTERNAL_KISSFFT=ON \
	-DENABLE_INTERNAL_PCRE=OFF \
	-DENABLE_INTERNAL_RapidJSON=ON \
	-DENABLE_INTERNAL_SPDLOG=OFF \
	-DENABLE_INTERNAL_TAGLIB=OFF \
	-DENABLE_INTERNAL_UDFREAD=ON \
	-DENABLE_INTERNAL_TINYXML2=ON \
